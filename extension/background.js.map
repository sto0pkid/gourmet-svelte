{"version":3,"file":"background.js","sources":["../src/utils/textUtils.js","../src/utils/unitAmounts.js","../src/utils/numbers.js","../src/utils/units.js","../src/common/RecDef.js","../src/extension/id.js","../src/extension/messaging/polling.js","../src/utils/validator.js","../src/extension/messaging/channel.js","../src/extension/messaging/parsing.js","../src/extension/messaging/tags.js","../src/extension/parser/backgroundParser.js","../src/extension/SidebarCommunication.js","../src/extension/ContextMenus.js","../src/extension/background.js"],"sourcesContent":["export function cleanupWhitespace (text, condenseMiddleSpaces=true) {\n    text = text\n        .replace(/^\\s+/,'') // leading whitespace\n        .replace(/\\s+$/,'') // trailing whitespace\n    if (text.match(/stick/)) {\n        console.log('cleaned-up ',text)\n    }\n\n    if (condenseMiddleSpaces) {\n        return text\n            .replace(/\\s+/g,' ') // extra whitespace -> single\n    }\n    else {\n        return text\n    }\n}\n\nexport function titleCase (words) {\n    return words.split(/\\s/).map(\n        (word)=>word[0].toUpperCase()+word.substr(1).toLowerCase()\n    ).join(' ')\n}\n\nexport function jsonConcisify (o) {\n    return JSON.stringify(\n        o,\n        (k,v) => {\n            if (typeof v==='string' && v.length > 50) {\n                return v.substr(0,47)+'...'\n            }\n            if (Array.isArray(v)) {\n                return [v[0],'...']\n            }\n            else {\n                return v;\n            }\n        }\n    );\n}\n","import {cleanupWhitespace} from './textUtils.js'\n\nconst UNIT_CONVERSIONS = [\n    // American volume\n    {bigger:\"tsp\",\n     smaller:\"drop\",\n     multiplier:76},\n    {bigger:\"Tbs\",\n     smaller:\"tsp\",\n     multiplier:3},\n    {bigger:\"fl oz\",\n     smaller:\"Tbs\",\n     multiplier:2},\n    {bigger:\"c\",\n     smaller:\"fl oz\",\n     multiplier:8},\n    {bigger:\"pt\",\n     smaller:\"c\",\n     multiplier:2},\n    {bigger:\"qt\",\n     smaller:\"c\",\n     multiplier:4},\n    {bigger:\"gallon\",\n     smaller:\"qt\",\n     multiplier:4},\n    // Dry units...\n    {bigger:\"bucket\",\n     smaller:\"peck\",\n     multiplier:2},\n    {bigger:\"bushel\",\n     smaller:\"bucket\",\n     multiplier:2},\n\n\n    // American weights\n    {bigger:\"lb\",\n     smaller:\"oz\",\n     multiplier:16},\n    {bigger:\"oz\",\n     smaller:\"dram\",\n     multiplier:16},\n    {bigger:\"lb\",\n     smaller:\"grains\",\n     multiplier:7000},\n\n\n    // {bigger:\"l\",\n    //  smaller:\"qt\",\n    //  multiplier:1.057},\n    {bigger:'Japanese cup',\n     smaller:'ml',\n     multiplier:200},\n    // Other cups...\n    {bigger:'metric cup',\n     smaller:'ml',\n     multiplier:250},\n    {bigger:'Imperial cup',\n     smaller:'ml',\n     multiplier:284.130625},\n    {bigger:'Imperial pint',\n     smaller:'oz',\n     multiplier:20},\n\n    // Metric volumes\n    {bigger:\"l\",\n     smaller:\"ml\",\n     multiplier:1000},\n    {bigger:\"l\",\n     smaller:\"cl\",\n     multiplier:100},\n    {bigger:\"l\",\n     smaller:\"dl\",\n     multiplier:10},\n\n    // Metric weights\n    {bigger:\"kg\",\n     smaller:\"g\",\n     multiplier:1000},\n    {bigger:\"g\",\n     smaller:\"mg\",\n     multiplier:1000},\n\n\n    // Metric to American/Imperial...\n    {bigger:\"oz\",\n     smaller:\"g\",\n     multiplier:28.35},\n    {bigger:\"fl oz\",\n     smaller:\"ml\",\n     multiplier:29.5735},\n    // Don't define peck in terms of gallons --\n    // it's in terms of dry gallons, which maybe aren't even a real\n    // US standard?\n    {bigger:\"peck\",\n     smaller:\"l\",\n     multiplier:8.809},\n\n    // {\n    //     bigger: \"c\", // US Cup\n    //     smaller : \"ml\",\n    //     multiplier:240,\n    // },\n]\n/**\n* DENSITIES of common foods. This allows us to convert between mass and volume.\n* Translators: You may be best off translating the food names below, since lists\n* of food densities can be hard to come by!\n**/\nconst DENSITY_TABLE = {\n    \"water\":1,\n    \"juice, grape\":1.03,\n    \"vegetable broth\":1,\n    \"broth, vegetable\":1,\n    \"broth, chicken\":1,\n    \"milk\":1.029,\n    \"milk, whole\":1.029,\n    \"milk, skim\":1.033,\n    \"milk, 2%\":1.031,\n    \"milk, 1%\":1.03,\n    \"coconut milk\":0.875,\n    \"buttermilk\":1.03,\n    \"heavy cream\":0.994,\n    \"light cream\":1.012,\n    \"half and half\":1.025,\n    \"honey\":1.420,\n    \"sugar, granulated\":0.9,\n    \"salt\":2.165,\n    \"butter\":0.911,\n    \"oil, vegetable\":0.88,\n    \"oil, olive\":0.88,\n    \"oil, corn\":0.88,\n    \"oil, sesame\":0.88,\n    \"flour, all purpose\": 0.55,\n    \"flour, whole wheat\": 0.53,\n    \"corn starch\": 0.6,\n    \"sugar, powdered\": 0.6,\n    \"sugar, confectioners\": 0.6\n}\n/**\n# Standard unit names and alternate unit names that might appear.  For\n# example: \"c.\" is our standard abbreviation for cup.  \"cup\",\"c.\" or\n# \"cups\" might appear in a recipe we are importing.  Each item of this\n# list looks like this:\n#\n# [\"standard\", [\"alternate1\",\"alternate2\",\"alternate3\",...]]\n#\n# The first item should be the preferred abbreviation\n# The second item should be the full name of the unit\n# e.g. [\"c.\", [\"cup\",...]]\n#\n**/\nconst UNIT_SYNONYMS = {\n    \"each\":[\"eaches\",  \"ea\",   \"ea.\"],\n    \"fl oz\": [\"fl oz\",      \"fluid ounce\",\"fluid ounces\",\"fl ounces\",   \"fl. ounces\",\"fl. oz\",     \"fl oz.\",     \"fl. oz.\"],\n    \"tsp\":   [\"teaspoon\",   \"teaspoons\",  \"tea_spoon\",   \"tea_spoons\",  \"Teaspoon\",  \"Teaspoons\",  \"Tea_spoon\",  \"Tea_spoons\",  \"tsps\",\"tsps.\",\"Tsps\",\"Tsps.\",\"tsp\",\"tsp.\",\"Tsp\",\"Tsp.\",\"ts\",\"ts.\",\"Ts\",\"Ts.\",\"t\",\"t.\"],\n    \"Tbs\":   [\"tablespoon\", \"tablespoons\",\"table_spoon\", \"table_spoons\",\"Tablespoon\",\"Tablespoons\",\"Table_spoon\",\"Table_spoons\",\"tbsp\",\"tbsp.\",\"Tbsp\",\"Tbsp.\",\"tbs\",\"tbs.\",\"Tbs\",\"Tbs.\",\"tb\",\"tb.\",\"Tb\",\"Tb.\",\"T\",\"T.\"],\n    \"lb\":    [\"pound\",      \"pounds\",     \"lbs\",  \"lbs.\",  \"lb\",  \"lb.\"],\n    \"oz\":    [\"ounce\",      \"ounces\",     \"oz\",   \"oz.\"],\n    \"c\":     [\"cup\",        \"cups\",       \"c.\"],\n    \"qt\":    [\"quart\",      \"quarts\",     \"qt.\",  \"Qt\", \"Qt.\"],\n    \"pt\":    [\"pint\",       \"pints\",      \"pt.\",  \"Pt\", \"Pt.\"],\n    \"gallon\":[\"gallon\",     \"gallons\",    \"gal\",  \"gal.\"],\n    \"ml\":    [\"milliliter\",  \"milliliters\", \"ml\",   \"ml.\"],\n    \"cl\":    [\"centiliter\", \"centiliters\",\"cl\",   \"cl.\"],\n    \"dl\":    [\"deciliter\",  \"deciliters\", \"dl\",   \"dl.\"],\n    \"l\":     [\"liter\",      \"liters\",     \"lit.\", \"l\", \"l.\"],\n    \"g\":     [\"grams\",    \"gram\",      \"g.\", \"g\", \"gr\", \"gr.\"],\n    \"mg\":    [\"milligram\", \"milligrams\", \"mg\", \"mg.\"],\n    \"kg\":    [\"kilogram\", \"kilograms\", \"kg\", \"kg.\"],\n    /*# These names aren\"t really convertible, but we want them to\n      # be recognized as units.*/\n    \"small\": [\"small\",  \"Small\",    \"sm\",  \"sm.\"],\n    \"medium\":[\"medium\", \"Medium\",   \"med\", \"med.\", \"Med\", \"Med.\"],\n    \"large\": [\"large\",  \"Large\",    \"lg\",  \"lg.\",  \"Lg\",  \"Lg.\"],\n    \"box\":   [\"box\",    \"Box\",      \"bx\"],\n    \"whole\": [\"whole\",  \"whl\",      \"wh.\"],\n    \"clove\": [\"clove\",  \"cloves\",   \"clv\",    \"clv.\"],\n    \"can\":   [\"can\",    \"Can\",      \"cn\",      \"cn.\"],\n    \"head\":  [\"head\",   \"heads\",    \"Head\",    \"Heads\",    \"hd\",       \"hd.\"],\n    \"package\":[\"pkg.\",   \"package\",  \"Package\", \"packages\", \"Packages\", \"pkg\", \"Pkg.\", \"pack\"],\n    \"slice\": [\"slice\",  \"slices\"],\n    \"bunch\": [\"bunch\",  \"bunches\"],\n}\n\nconst METRIC_RANGE = (1,999)\n/*\n# The following sets up unit groups. Users will be able to turn\n# these on or off (American users, for example, would likely turn\n# off metric units, since we don't use them).\n# (User choice not implemented yet)\n*/\nconst UNIT_GROUPS = {\n    'metric mass':[('mg',METRIC_RANGE),\n                   ('g',METRIC_RANGE),\n                   ('kg',(1,undefined))],\n    'metric volume':[('ml',METRIC_RANGE),\n                     ('cl',(1,99)),\n                     ('dl',(1,9)),\n                     ('l',(1,undefined)),],\n    'imperial weight':[('grains',(0,27)),\n                       ('dram',(0.5,15)),\n                       ('oz',(0.25,32)),\n                       ('lb',(0.25,undefined)),\n                       ],\n    'imperial volume':[\n        //('drop',(0,3)),\n        ('tsp',(0.125,5.9)),\n        ('Tbs',(1,4)),\n        ('c',(0.25,8)),\n        //('pt',(1,1)),\n        //('qt',(1,3)),\n        ('gallon',(1,undefined)),\n        //('peck',(1,2)),\n        //('bucket',(1,2)),\n        //('bushel',(1,undefined)),\n        ('fl oz',(1,undefined)),\n    ]\n}\n\nexport const UNIT_NAMES = []\nexport const UNIT_LOOKUP = {}\nfor (var key in UNIT_SYNONYMS) {\n    UNIT_LOOKUP[key] = key;\n    UNIT_NAMES.push(key);\n    UNIT_SYNONYMS[key].forEach((w)=>{\n        UNIT_LOOKUP[w] = key\n        UNIT_NAMES.push(w)\n    });\n}\n\nexport const UNIT_REGEXP_STRING = '\\\\b(?<unit>'+UNIT_NAMES.join('|')+')\\\\b'\nexport const UNIT_REGEXP = new RegExp(\n    UNIT_REGEXP_STRING,'i'\n);\n\nexport const toMilliliters = {}\nexport const toGrams = {}\n\n// create unit chart...\ncreateUnitMapping('ml',toMilliliters)\ncreateUnitMapping('g',toGrams);\n\nfunction createUnitMapping (baseUnit, mapping) {\n    mapping[baseUnit] = 1;\n    let newItems = []\n    let toMap = [baseUnit]\n    let mapped = []\n    while (toMap.length > 0) {\n        let mapNext = []\n        for (let unit of toMap) {\n            let unitsToMap = doMap(unit,baseUnit,mapping);\n            mapped.push(unit);\n            for (let u of unitsToMap) {\n                if (mapped.indexOf(u)==-1) {\n                    mapNext.push(u);\n                }\n            }\n        }\n        toMap = mapNext;\n    }\n    function doMap (unit, target, mapping) {\n        toMap = [];\n        for (let uc of UNIT_CONVERSIONS) {\n            if (uc.bigger==unit && !mapping[uc.smaller]) {\n                mapping[uc.smaller] = (1/uc.multiplier) * mapping[unit]\n                toMap.push(uc.smaller);\n            }\n            else if (uc.smaller==unit && !mapping[uc.bigger]) {\n                mapping[uc.bigger] = uc.multiplier * mapping[unit]\n                toMap.push(uc.bigger);\n            }\n        }\n        return toMap\n    }\n}\n\n\nexport function getStandardUnit (unit) {\n    return UNIT_LOOKUP[unit]\n}\n\nexport function getMultiplierConversion (unit1, unit2, density) {\n    // Multiply unit1 by X to get amount in unit2\n    return 1/getInAConversion(unit1,unit2,density)\n}\n\nexport function getInAConversion (unit1, unit2, density) {\n    // There are ____ unit1 IN A unit2\n    // Note: capitalization *can* matter for units (i.e. \"t\" vs. \"T\"\n    // for tsp and Tablespoon) but usually doesn't...\n    unit1 = getStandardUnit(unit1);\n    unit2 = getStandardUnit(unit2);\n    if (toMilliliters[unit1]) {\n        // both volume! (e.g. unit1 = tsp, unit2 = Tbs\n        let unit1inML = toMilliliters[unit1]; // eg 5 ml in tsp.\n        let unit2inML\n        if (toMilliliters[unit2]) {\n            unit2inML = toMilliliters[unit2]; // eg 15 tsp.\n        }\n        else {\n            //\n            // d = m / v\n            // v = (m / density)\n            if (density && toGrams[unit2]) {\n                // cool, we got grams...\n                unit2inML = toGrams[unit2] / density\n            }\n        }\n        if (!unit2inML) {return undefined}\n        return unit2inML/unit1inML // eg multiply by 3 to get from tsp to Tbs\n    }\n    if (toGrams[unit1]) {\n        // both mass...\n        let unit1inG = toGrams[unit1]; // eg 5\n        let unit2inG;\n        if (toGrams[unit2]) {\n            unit2inG = toGrams[unit2]; // eg 15\n        }\n        else if (toMilliliters[unit2] && density) {\n            // d = m / v\n            // m = d * v\n            unit2inG = toMilliliters[unit2] * density\n        }\n        return unit2inG/unit1inG // eg multiply by 3 to get from tsp to Tbs\n    }\n}\n\nexport function analyzeUnit (unit) {\n    // Some units are automatically convertible, in which case, we should know that...\n    // If we have a standardized unit, we will store it.\n    if (unit) {\n        return {\n            unit : unit,\n            standardUnit : getStandardUnit(unit)\n        }\n    }\n    return unit\n}\n\n\nexport function parseUnit (text) {\n    let m = text.match(UNIT_REGEXP);\n    if (m) {\n        let unit = m.groups.unit\n        let pretext = text.substr(0,m.index);\n        let posttext = text.substr(m.index+unit.length)\n        if (posttext) {\n            text = cleanupWhitespace(posttext)\n        }\n        else {\n            text = cleanupWhitespace(pretext);\n        }\n        let unitDetails = analyzeUnit(unit);\n        return {\n            ...unitDetails,\n            unit,text,pretext,posttext\n        }\n    }\n    else {\n        return {text:cleanupWhitespace(text)}\n    }\n}\n\nexport default {\n    UNIT_REGEXP_STRING,\n    UNIT_REGEXP,\n    UNIT_LOOKUP,\n    UNIT_CONVERSIONS,\n    DENSITY_TABLE,\n    UNIT_GROUPS,\n    METRIC_RANGE,\n    parseUnit\n}\n","//import numeral from 'numeral';\n\n// numeral.register('format', 'fraction', {\n//     regexps: {\n//         format: /\\//,\n//         unformat: /\\//\n//     },\n//     format: function(value, format, roundingFunction) {\n// \treturn floatToFrac(value);\n//     },\n//     unformat: function(string) {\n//         return fracToFloat(string);\n//     }\n// });\nimport Amounts from './unitAmounts.js'; \n\nvar NUMBER_WORDS = [\n    {matcher:/\\b(one|a)\\b/i,\n     value:1},\n    {matcher:/(two|\\ba\\s*(couple|pair)\\b)/i,\n     value:2},\n    {matcher:/(\\b(one|a)\\b\\s*)?half(\\s+(a|an))?\\b/i,\n     value:0.5},\n    {matcher:/\\bthree\\b/i,value:3},\n]\n\n\nvar LESS_THAN_TWENTY = [\n    'zero', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten',\n    'eleven', 'twelve', 'thirteen', 'fourteen', 'fifteen', 'sixteen', 'seventeen', 'eighteen', 'nineteen'\n];\n\nvar TENTHS_LESS_THAN_HUNDRED = [\n    'zero', 'ten', 'twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety'\n];\n\nfor (let i=0; i<20; i++) {\n    let word = LESS_THAN_TWENTY[i]\n    NUMBER_WORDS.push({\n        matcher : new RegExp('\\\\b'+word+'\\\\b','i'),\n        value : i\n    })\n}\nfor (let t=2; t<10; t++) {\n    let tens = TENTHS_LESS_THAN_HUNDRED[t];\n    NUMBER_WORDS.push({\n        matcher : new RegExp('\\\\b'+tens+'\\\\b','i'),\n        value : t*10\n    })\n    for (let i=1; i<10; i++) {\n        let ones = LESS_THAN_TWENTY[i]\n        NUMBER_WORDS.push({\n            matcher : new RegExp('\\\\b'+tens+'(\\\\s*|-|–)'+ones+'\\\\b','i'),\n            value : t*10 + i\n        })\n    }\n}\n\nfor (let word of NUMBER_WORDS) {\n    if (isNaN(word.value)) {\n        throw Error(`bad word ${word.matcher} ${word.value}`);\n    }\n}\nNUMBER_WORDS.reverse(); // longest to shortest - match greedy first\n\n\nfunction getValueFromNumberWord (s) {\n    let value = NaN;\n    for (let numberWord of NUMBER_WORDS) {\n        // We assume NUMBER_WORDS is in order from most to least\n        // specific, so if, for example twenty-two matches twenty and\n        // two and twenty-two, twenty-two will come first.\n        // I *think* but haven't rigorously confirmed that this works\n        // for all numbers with larger numbers being more specific than\n        // smaller numbers in terms of regexp matching\n        if (s.match(numberWord.matcher)) {\n            return numberWord.value\n        }\n    }\n}\n\n\nvar NUMBER_FRACTIONS = [\n    {numerator:1,\n     denominator:2,\n     word:'\\u00BD'},\n    {numerator:1,\n     denominator:4,\n     word:'\\u00BC'},\n    {numerator:3,\n     denominator:4,\n     word:'\\u00BE'},\n    {numerator:1,\n     denominator:3,\n     word:'\\u2153'},\n    {numerator:2,\n     denominator:3,\n     word:'\\u2154'},\n    {numerator:1,\n     denominator:5,\n     word:'\\u2155'},\n    {numerator:2,\n     denominator:5,\n     word:'\\u2156'},\n    {numerator:3,\n     denominator:5,\n     word:'\\u2157'},\n    {numerator:4,\n     denominator:5,\n     word:'\\u2158'},\n    {numerator:1,\n     denominator:6,\n     word:'\\u2159'},\n    {numerator:5,\n     denominator:6,\n     word:'\\u215A'},\n    {numerator:1,\n     denominator:8,\n     word:'\\u215B'},\n    {numerator:3,\n     denominator:8,\n     word:'\\u215C'},\n    {numerator:5,\n     denominator:8,\n     word:'\\u215D'},\n    {numerator:7,\n     denominator:8,\n     word:'\\u215E'},\n]\n\nfunction getFraction (n, d, unicodeFractions=true) {\n    if (unicodeFractions) {\n        for (var f of NUMBER_FRACTIONS) {\n\t    if (n==f.numerator && d==f.denominator) {\n\t        return f.word\n\t    }\n        }\n    }\n    return n+'/'+d\n}\n\nfunction floatToFrac (n, {denominators=[2,3,4,6,8,10,16], approx=0.01, fallbackDigits=2,\n                          unicodeFractions=true,multiplier=1}={}) {\n    n *= multiplier\n    if (n===0) {\n        return '0'\n    }\n    else if (!n) {\n        return ''\n    }\n    var i, f\n    if (n >= 1) {\n\ti = Math.floor(n).toString()\n    }\n    else {\n\ti = ''\n    }\n    var rem = n % 1;\n    if (rem==0 || rem<approx) {\n\treturn i || '0'\n    }\n    else {\n\t// now we fractify...\n\tfor (var den of denominators) {\n\t    var result = fractify(rem,den)\n\t    if (result) {\n                if (i) {\n\t\t    return i+' '+getFraction(...result,unicodeFractions);\n                }\n                else {\n                    return getFraction(...result,unicodeFractions);\n                }\n\t    }\n\t}\n\t// If we failed, we just format...\n\treturn n.toFixed(fallbackDigits);\n    }\n}\n\nfunction fractify (decimal, divisor, approx=0.01) {\n    /* Return fraction equivalent of decimal using divisor.\n       If we don't have a fit, return none */\n    var one_nth = 1/divisor // we have the one version...\n    //console.log('one_nth=',one_nth);\n    var numerator = decimal / one_nth;\n    //console.log('numerator=',numerator);\n    if (Math.abs(Math.round(numerator)-numerator) < approx) {\n\treturn [Math.round(numerator),divisor]\n    }\n    else {\n\treturn false\n    }\n}\n\n// translation to javascript\n/*We assume fractions look like this (I )?N/D */\nfunction fracToFloat (s) {\n    if (!s.split) {\n        return Number(s); // if we are not a string, just use Number...\n    }\n    if (s[s.length-1]=='/') {\n        // if we end with a slash, we are not a number...\n        return NaN\n    }\n    var parts = s.split(/ +/);\n    if (parts.length==2) {\n\tvar num = Number(parts[0]);\n\tvar frac = parts[1];\n    }\n    else {\n\tvar num = 0;\n\tvar frac = parts[0];\n    }\n    var frac_split = frac.split(/\\//);\n    if (frac_split.length==2) {\n\treturn  num + (Number(frac_split[0])/Number(frac_split[1]))\n    }\n    else {\n\t// let's look for fraction unicode...\n\tfor (var f of NUMBER_FRACTIONS) {\n\t    if (frac==f.word) {return num+(f.numerator/f.denominator)}\n\t}\n    }\n    // If we are still here, let's just try a regular conversion\n    if (s.match(/[0-9]([,][0-9][0-9][0-9])+([.][0-9]+)?$/)) {\n        s = s.replace(/[,]/g,'')\n    }\n    if (s.match(/[0-9]([.][0-9][0-9][0-9])+([,][0-9]+)?$/)) {\n        s = s.replace(/[.]/g,'');\n    }\n    let val = Number(s)\n    if (!isNaN(val)) {\n        return val\n    }\n    else {\n        let wordValue = getValueFromNumberWord(s)\n        if (wordValue) {\n            return wordValue\n        }\n    }\n}\n\n\nvar numBase = `([0-9]|${NUMBER_FRACTIONS.map((f)=>f.word).join('|')}`;\nnumBase += '|' + NUMBER_WORDS.map((w)=>w.matcher.toString().replace(/(^\\/|\\/i$)/g,'')).join('|')\nvar numNaked = numBase + ')';\nvar numMid = numBase + '|[,./])' \nvar numMatchString = `${numNaked}+(${numMid}*${numNaked}+)?`\nnumMatchString = `${numMatchString}(\\\\s+${numMatchString})?`\nvar numberMatcher = new RegExp(numMatchString,'i');\nvar rangeMatcherString = `(?<first>${numMatchString})(?<rangeword>\\\\s*(to|or|-|:|–|—|―)\\\\s*)(?<second>${numMatchString})`\nvar rangeMatcher = new RegExp(rangeMatcherString,'i')\n\nfunction incrementOld (value) {\n     var nextOne = false;\n     if (value < 1) {\n         for (let f of fractions) {\n             if (value < f) {\n                 return f\n             }\n         }\n         return 1 // up to one if nothing else\n     }\n     else if (value < 10) {\n         return value + 1;\n     }\n     else if (value < 50) {\n         return round(value,5) + 5;\n     }\n     else if (value < 200) {\n         return round(value,10) + 10;\n     }\n     else {\n         return round(value,50) + 50;\n     }\n }\n\n function roundDown (v, n) {\n     return Math.floor(v/n)*n\n }\n function roundUp (v, n) {\n     return Math.ceil(v/n)*n\n }\n\nfunction increment (n) {\n    if (n > 100) {\n        return roundDown(n,25)+25\n    }\n    else if (n > 50) {\n        return roundDown(n,10)+10\n    }\n    else if (n > 10) {\n        return roundDown(n,5)+5\n    }\n    else if (n > 5) {\n        return roundDown(n,1)+1\n    }\n    else {\n        let fraction = getNearestFraction(n);\n        if (!fraction) {\n            return n * 2\n        }\n        else {\n            const [top,bottom] = fraction;\n            return (top + 1)/bottom\n        }\n    }\n}\n\nfunction getNearestFraction (n, options=[1,2,3,4,8,16],approx=0.1) {\n    for (let o of options) {\n        let answer =  fractify(n,o,approx);\n        if (answer) {\n            return answer\n        }\n    }\n}\n\nfunction decrement (n) {\n    if (n > 100) {\n        return roundUp(n,25)-25\n    }\n    else if (n > 50) {\n        return roundUp(n,10)-10\n    }\n    else if (n > 10) {\n        return roundUp(n,5)-5\n    }\n    else if (n > 5) {\n        return roundUp(n,1)-1\n    }\n    else {\n        let fraction = getNearestFraction(n);\n        if (!fraction) {\n            return n / 2\n        }\n        else {\n            const [top,bottom] = fraction;\n            if (top > 1) {\n                return (top - 1)/bottom\n            }\n            else {\n                return 1 / nextBottom(bottom)\n            }\n        }\n    }\n\n\n    function nextBottom (bottom) {\n        const bottoms = [1,2,3,4,8,16]\n        let curIndex = bottoms.indexOf(bottom)\n        if (!curIndex || curIndex > bottoms.length) {\n            return bottom * 2\n        }\n        else {\n            return bottoms[curIndex+1]\n        }\n    }\n}\n\nlet numberBeforeUnitMatcher = new RegExp(numMatchString+'(?=\\\\s+[^\\\\d/])')\n\nfunction parseAmount (s) {\n    let amount = {}\n    let match = s.match(rangeMatcher);\n    if (match) {\n        amount.rangeAmount = fracToFloat(match.groups.first);\n        amount.amount = fracToFloat(match.groups.second);\n    }\n    else {\n        match = s.match(numberBeforeUnitMatcher);\n        if (match) {\n            amount.amount = fracToFloat(match[0])\n        }\n        else {\n            match = s.match(numberMatcher);\n            if (match) {\n                amount.amount = fracToFloat(match[0])\n            }\n        }\n    }\n    if (match) {\n        amount.pretext = s.substr(0,match.index)\n        amount.posttext = s.substr(match.index+match[0].length)\n    }\n    else {\n        amount.posttext = s;\n    }\n    return amount\n}\n\nexport function formatAmount (amount,options) {\n    if (amount.rangeAmount) {\n        return `${floatToFrac(amount.rangeAmount,options)}–${floatToFrac(amount.amount,options)}`\n    }\n    else {\n        return floatToFrac(amount.amount,options);\n    }\n}\n\n\nexport {floatToFrac, fracToFloat, parseAmount,\n        numberMatcher, numMatchString,\n        rangeMatcherString, rangeMatcher,\n        increment, decrement}\n","import {fracToFloat,floatToFrac,numMatchString} from './numbers.js';\nimport Amounts from './unitAmounts.js';\nvar timeUnits = undefined\nvar timeConversions = {} // gets populated in getTimeUnits()\nvar timeEquivs = {\n    'seconds':['s','sec','secs','second'],\n    'minutes':['min','minute','mins','min.'],\n    'hours':['hr','hr.','hour','hrs'],\n    'days':['day'],\n    'weeks':['week','wk'],\n}\n\nvar timeEquivRegexps = {\n}\n\nfor (var unit in timeEquivs) {\n    timeEquivs[unit].push(unit);\n    timeEquivRegexps[unit] = new RegExp(`(${numMatchString})\\\\s+(${timeEquivs[unit].join('|')})`);\n}\n\nfunction getTimeUnits () { /* singleton */\n    if (timeUnits) {return timeUnits}\n    else {\n        timeUnits = [\n            ['seconds', 1],\n            ['minutes', 60],\n            ['hours', 60],\n            ['days', 24],\n            ['weeks', 7],\n        ];\n        // Accumulator - get all our units in terms of the first...\n        var multiplier = 1\n        for (var u of timeUnits) {\n            u[1] *= multiplier;\n            multiplier = u[1];\n            timeConversions[u[0]] = u[1];\n        }\n        return timeUnits;\n    }\n}\n\nfunction secondsToTime (s) {\n    var units = getTimeUnits().slice();\n    var unitsToUse = [];\n    var remainder = s;\n    while (units.length>0) {\n        var biggest = units.pop();\n        if ((remainder / biggest[1]) > 1) {\n            unitsToUse.push(\n                {amount:Math.floor(remainder/biggest[1]),\n                 unit:biggest[0]}\n            );\n            remainder = remainder % biggest[1]\n        }\n    }\n    return unitsToUse;\n}\n\n/*\n* get time from messy user strings, such as...\n* 30:00 -> 30 minutes\n* 30 minutes -> 30 minutes\n* 1/2 hour -> 30 minutes\n* 2 weeks, 3 days -> 2 weeks + 3 days\n* etc.\n* Time is returned in seconds.\n*/\n\nfunction timeFromString (txt) {\n    var parsers = [checkForColonTimeString,checkForTimeWords];\n    for (var parse of parsers) {\n        var result = parse(txt);\n        if (result) {\n            return result\n        }\n    }\n}\n\nfunction checkForTimeWords (txt) {\n    var timeUnits = getTimeUnits();\n    var total = 0;\n    for (var unit in timeEquivRegexps) {\n        var re = timeEquivRegexps[unit];\n        var match = txt.match(re);\n        if (match) {\n            var num = fracToFloat(match[1]);\n            var converter = timeConversions[unit];\n            if (!converter) {\n                throw 'No converter found for unit '+unit;\n            }\n            total += converter * num;\n        }\n    }\n    return total;\n}\n\nfunction checkForColonTimeString (txt) {\n    var hourMinute = /^\\s*[0-9][0-9]?:[0-9][0-9]\\s*$/;\n    var hourMinuteSecond = /^\\s*[0-9][0-9]?:[0-9][0-9]:[0-9][0-9]\\s*$/;\n    if (txt.match(hourMinute)) {\n        var times = txt.split(':').map(Number)\n        return times[0] * 60*60 + times[1]*60;\n    }\n    if (txt.match(hourMinuteSecond)) {\n        var times = txt.split(':').map(Number)\n        \n        return (\n            (times[0] * 60*60) + // hours\n                (times[1]*60) + // minutes \n                (times[2])); // seconds\n    }\n}\n\n// function testTimes () {\n//     var times = [34,60*2+42,60*60*24*9,60*60*60+234,7*24*60*60+24*60*60*2+60*60*2+6]\n//     times.forEach(\n//         (s)=>console.log('secondsToTime(%s)=>%s',s,JSON.stringify(secondsToTime(s)))\n//     );\n// }\n// testTimes();\n\nvar Units = {\n    secondsToTimeUnits : secondsToTime,\n    secondsToTimeString  (s) {\n        return Units.toString(Units.secondsToTimeUnits(s));\n    },\n    toString (unitSequence) {\n        return unitSequence.map((o)=>`${o.amount} ${o.unit}`).join(', ')\n    },\n    secondsFromTimeString : timeFromString,\n    timeEquivRegexps : timeEquivRegexps,\n    Amounts\n}\nexport default Units;\n","/* Useful metadata for recipes \n\nFor each property type, we have:\n {name: ,\n  label: , // what we show users\n  toString: , // how to get a simple string view of it\n  editType: , // the edit types...\n*/\n\nimport Units from '../utils/units.js';\n\nvar TXT = 'text';\nvar RCH = 'richText';\nvar NUM = 'number';\nvar CMB = 'combo';\nvar MCMB = 'multicombo';\nvar IMG = 'img';\nvar DUR = 'duration';\nvar LNK = 'link';\nvar NUMUNIT = 'numunit';\n\nvar EditTypes = [\n    CMB,\n    TXT,\n    RCH,\n    NUM,\n    IMG,\n    DUR,\n    MCMB,\n    LNK,\n    NUMUNIT,\n    ]\n\nvar Metadata = {\n    importProps : [\n        {name:'title',\n         label:'Title'},\n        {name:'ingredients',\n         label:'Ingredient List',\n        },\n        {name:'time',\n         label:'Time',\n         hasDetail:true,\n        },\n        {name:'text',\n         label:'Text',\n         hasDetail:true,\n        },\n        {name:'recipe',\n         label:'Recipe (whole thing)',\n        },\n        {name:'ingredient',\n         label:'Ingredient (Complete)',\n        },\n        {name:'ingredientText',\n         label:'Ingredient Item',\n        },\n        {name:'inggroup',\n         label:'Ingredient Group',\n        },\n        {name:'yields',\n         label:'Yields',\n         hasDetail:true,\n        },\n        {name:'time',\n         label:'Time',\n         hasDetail:true,\n        },\n        {name:'source',\n         label:'Source'},\n        {name:'category',\n         label:'Category'},\n        {name:'amount',\n         label:'Ingredient Amount'},\n        {name:'unit',\n         label:'Ingredient Unit'},\n        {name:'image',\n         label:'Image'},\n    ],\n    ingProps : [\n        {name:'ingkey',\n         label:'Ingredient (key)',\n         edit:CMB,\n         testValue:'sugar, granulated',\n         options:['Sugar','Flour','Water','Garlic','Carrot']\n        },\n        {name:'text',\n         label:'Ingredient Item & Prep',\n         edit:TXT,\n         testValue:'granulated sugar, divided',\n        },\n        {name:'amount',label:'Amount',\n         edtit:NUMUNIT,\n         multipliable:true,\n         testValue:{\n             amount:1,\n             unit:'cup'\n         }},\n        {name:'amount.unit',label:'Unit',\n         edit:CMB,options:['cup','tsp','Tbs','l','ml','g','oz','quart','lb'],\n         testValue:'cup',\n        },\n        {name:'amount.amount',\n         label:'Amount',\n         edit:NUM,\n         testValue:'3 1/2',\n        },\n    ],\n    titleProps : [\n        {name:'title',\n         label:'Title',\n         edit:TXT,\n         testValue:'A Very Fine Recipe Indeed',\n         toHtml:(s)=>s.trim(),\n        },\n    ],\n    idProps : [\n        {name:'id',purpose:'indexedDB'},\n        {name:'localid',purpose:'import/export'},\n        {name:'_id',purpose:'mongoDB'}\n    ],\n    recProps : [\n        {name:'yields',\n\t label:'Yield',\n         edit:NUMUNIT,\n         array:true,\n         empty : [{}],\n         testValue:[{amount:4,unit:'servings'}],\n\t toHtml:(s)=>`${s.amount} ${s.unit}`,\n        },\n        // {name:'image',\n        //  label:'image',\n        //  edit:IMG},\n        // {name:'yield.unit',\n        //  label:'Yield unit',\n        //  testValue:'servings',\n        //  edit:CMB,options:['servings','cups']},\n        // {name:'yield.amount',\n        //  label:'Yield amount',\n        //  testValue:3.25,\n        //  edit:NUM,},\n\t{name:'categories',\n\t label:'Categories',\n         edit:MCMB,\n         summaryView:true,\n         options:['Dessert','Entree','Salad','Soup'],\n         empty:[{name:''}],\n         testValue:[{name:'Dessert'}],\n\t toHtml:(s)=>s&&s.map((v)=>v.name).join(', '),\n        },\n\t{name:'sources',\n\t label:'Source',\n         summaryView:true,\n         testValue:{url:'http://tomhinkle.net/',name:'Fake Source'},\n\t toHtml:(s)=>s&&s.url&&`<span><a href=${s.url}>${s.name||s.url.substr(0,30)}</a></span>`||s.name||'',\n         empty:[{name:'',url:''}],\n         array:true,\n         edit:LNK,\n        },\n\t{name:'times',\n\t label:'Time',\n         array:true,\n         summaryView:true,\n         testValue:{seconds:4250},\n\t toHtml:(s)=>`${s.name}: ${s.text||Units.secondsToTimeString(s.seconds)||''}`,\n         empty:[{name:'',seconds:0}],\n         edit:DUR,\n        },\n        {name:'text',\n         label:'Text',\n         hideLabel:true,\n         array:true,\n         summaryView:false,\n         testValue:[{header:'Instructions',body:'This is a bunch of <b>text</b'}],\n         toHtml:(s)=>s.header&&`<h3>${s.header}</h3>\\n${s.body}`||s.body,\n         empty:[{body:'',header:''}],\n         edit:RCH}\n    ],\n};\n\n// Make a handy lookup...\nvar byProp = {};\nfor (var key in Metadata) {\n    var props = Metadata[key]\n    props.forEach(\n        (p)=>{\n            p.propType = key;\n            byProp[p.name] = p;\n        });\n}\n\nMetadata.byProp = byProp\nMetadata.EditModes = {\n    TXT,\n    RCH,\n    NUM,\n    CMB,\n    MCMB,\n    IMG,\n    DUR,\n    LNK,\n    NUMUNIT,    \n}\n\nMetadata.importPropsByName = {}\nfor (let p of Metadata.importProps) {\n    Metadata.importPropsByName[p.name] = p;\n}\n\nexport default Metadata;\n","export default 'aaaloblfbkmkhcpbandokicnfpifbmlj';\nexport const extensionUrl = 'http://www.tomhinkle.net'\n","/**\nThis is the only way to *push* messages to a webpage in an iframe or what have you... \n**/\nimport chromeExtensionId from '../id.js'\nexport const pollers = {}\n\nconst connectHandlers = [];\nexport function onConnectToPoll (cb) {\n    connectHandlers.push(cb)\n    \n}\n\nexport function listenForConnections () {\n    chrome.runtime.onConnectExternal.addListener(\n        function(port) {\n            console.log('GOT EXTERNAL CONNECTION!')\n            if (port.name=='poll') {\n                console.log('SET UP POLL EXTERNAL CONNECTION!')\n                port.onMessage.addListener(\n                    (msg)=>{console.log('Weird, we got a message from the webpage via polling -- we have not implemented that')}\n                );\n                \n                if (!pollers[port.sender.tab.id] ) {\n                    pollers[port.sender.tab.id] = []\n                }\n                console.log('Adding item to pollers for tab',port.sender.tab.id);\n                pollers[port.sender.tab.id].push(sendToWeb);\n                console.log('Adding item to pollers for tab',port.sender.tab.id,pollers[port.sender.tab.id].push(sendToWeb));\n\n                \n                port.onDisconnect.addListener(\n                    (p)=>{\n                        console.log('DISCONNECT',p);\n                        pollers[port.sender.tab.id].splice(pollers[port.sender.tab.id].indexOf(sendToWeb),1)\n                    }\n                );\n\n                connectHandlers.forEach(\n                    (h)=>h(port)\n                )\n\n                function sendToWeb (msg) {\n                    try {\n                        port.postMessage(msg);\n                    }\n                    catch (err) {\n                        console.log('Error using port?',err);\n                    }\n                }\n            }\n            else {\n                console.log('Unknown connection request',port.name);\n            }\n        }\n    );\n}\n\nexport function listenToExtension (listener) {\n    let poller = connectToExtension('poll')\n    poller.onMessage.addListener(listener);\n    return poller\n}\n\nexport function connectToExtension (name) {\n    // const {name,\n    //        disconnect,\n    //        onDisconnect,\n    //        onMessage,\n    //        postMessage,\n    //        sender}\n    return chrome.runtime.connect(\n        chromeExtensionId,{name}\n    );\n}\n","/**\nAn extremely simple validator. \n\nWe check that the type of object matches expected.\n\nArrays and Objects are handled recursively.\n\nFor more than type checking, we offer two convenience functions: is_in and is, which will offer === equality checking and indexOf equality checking.\n\n**/\nexport let settings = {\n    isChatty : true\n}\n\nfunction validate (obj, expected) {\n    if (expected && expected.__isValidator) {\n        expected(obj)\n    }\n    else if (expected===null) {\n        if (obj) {\n            settings.isChatty && console.log('Expected null (or at least falsey) value, but got',typeof obj);\n            let e = new Error(`Expect null but got ${typeof obj}`);\n            e.expected = expected\n            e.actual = obj;\n            throw e;\n        }\n    }\n    else {\n        if (typeof obj !== typeof expected) {\n            settings.isChatty && console.log('Expected',typeof expected,'but got',typeof obj);\n            let e = new Error(`Expect ${typeof expected} but got ${typeof obj}`);\n            e.expected = expected\n            e.actual = obj;\n            throw e;\n        }\n        if (Array.isArray(expected)) {\n            for (let n=0; n<expected.length; n++) {\n                let item = expected[n];\n                try {\n                    validate(obj[n],expected[n])\n                }\n                catch (err) {\n                    let e = new Error(`Error validating item ${n} of array`)\n                    e.expectedArray = expected;\n                    e.actualArray = obj;\n                    e.error = err;\n                    throw e;\n                }\n            }\n        }\n        if (typeof expected==='object') {\n            for (let prop in expected) {\n                try {\n                    validate(obj[prop],expected[prop])\n                }\n                catch (err) {\n                    settings.isChatty && console.log('Error in prop',prop,err);\n                    let e = new Error(`Error in property ${prop}`);\n                    e.expectedObject = expected;\n                    e.actualObject = obj;\n                    e.error = err;\n                    throw e;\n                }\n            }\n        }\n    }\n}\n\nfunction Validator (name,f) {\n    const v =  function (v) {\n        if (!f(v)) {\n            throw Error('Invalid value:',v,'according to validator',name)\n        }\n    }\n    v.__isValidator = true\n    return v;\n}\n\nexport function is_in (arr) {\n    return Validator(\n        `is one of ${JSON.stringify(arr)}`,\n        (v)=>arr.indexOf(v)>-1\n    );\n}\n\nexport function is (obj) {\n    return Validator(\n        `is ${JSON.stringify(obj)}`,\n        (v)=>v===obj\n    );\n}\n\nexport default validate;\n","/**\nThere's too many damned messages in Chrome Extensions to keep track of.\n\nWe're going to try to put some basic error checking and enforcement on this...\n\nWant to send a message?\nFine. Define a \"Channel\" for communication in a stand-alone module and export it.\nThen we just use it like this:\n\n  const backgroundAddTag = Channel('addTag','background',{name:'string',parsed:{}},{tag:''});\n  // This will ensure that all addTag messages have a name and a parsed object\n  // and that they all RETURN an object with a property tag containing a string\n  backgroundAddTag.send({msg}) => returns a promise which will resolve to a valid return value\n  backgroundAddTag.receive(onMessage(msg)) => will be called with a valid request and must return a valid response.\n\n  We can then import/export all message streams via channels so we don't have to be futzing around with \n  strings and changing my mind about what things are called and all that nonsense.\n  \n**/\nimport chromeExtensionId from '../id.js';\nexport const WEB = 'web'\nexport const BACKGROUND = 'background'\nexport const CONTENT = 'content'\nimport validate from '../../utils/validator.js';\nconst channels = {\n    background:{},\n    content:{},\n}\n\n\nfunction Channel ({name, type, requestDef={}, responseDef={}, chatty=false}) {\n    if (!channels[type]) {\n        console.log('Unrecognized channel type',type,'not one of',Object.keys(channels));\n        throw Error(`Unknown Channel type: ${type}`)\n    }\n    if (channels[type][name]) {\n        console.log(`Channel ${name} defined with null response, but null response is how google communicates errors`);\n        throw Error(`Channel ${type} ${name} already defined`);\n    }\n    if (!responseDef) {\n        console.log(`Channel ${name} defined with null response, but null response is how google communicates errors`);\n        throw Error(`Channel ${name} defined with null response, but null response is how google communicates errors`);\n    }\n    channels[type][name] = this;\n    this.send = function (request, tab) {\n        if (chatty) {console.log('Channel',name,type,'send request',request,tab,'... first validating...')}\n        if (type=='content') {\n            validate(tab,{id:1})\n        }\n        try {\n            validate(request,requestDef);\n        }\n        catch (err) {\n            err.context = this;\n            console.log(`send (${type},${name} called with invalid request`,request);\n            console.log('Expected request to match: ',requestDef);\n            throw err;\n        }\n        console.log('Sending valid request',request);\n        return sendMessage(type,request,name,tab,chatty);\n    }\n\n    this.receive = function (receiveCallback, external=false) {\n        if (chatty) {console.log('Set up receiver',receiveCallback,name,external)}\n        let base\n        if (type=='background') {\n            base = chrome.runtime\n        }\n        else if (type=='content') {\n            base = chrome.extension\n        }\n        if (external) {\n            if (chatty) {console.log('add external listener')}\n            base.onMessageExternal.addListener(callback);\n        }\n        else {\n            if (chatty) {console.log('add internal listener')}\n            base.onMessage.addListener(callback);\n        }\n\n        async function callback (fullRequest, sender, sendResponse) {\n            if (fullRequest.channelName == name) {\n                if (chatty) {console.log('receive got callback',name,type,fullRequest,sender)}\n                let response = receiveCallback(fullRequest.request,sender)\n                if (response && response.then) {\n                    if (chatty) {console.log('async... awaiting response',response)}\n                    response = await response\n                    if (chatty) {console.log('async... got response',response)}\n                }\n                if (chatty) {console.log('validating response',response,responseDef)}\n                try {\n                    validate(response,responseDef);\n                }\n                catch (err) {\n                    err.receiveCallback = receiveCallback;\n                    console.log('Callback ',receiveCallback,'produced invalid response',response);\n                    throw err;\n                }\n                if (chatty) {console.log('Sending valid response',response);}\n                sendResponse(response);\n            }\n            \n        }\n    }\n    return this;\n}\n\n\nfunction sendMessage(type,request,name,tab) {\n    return new Promise( (resolve,reject) => {\n        if (type=='web') {\n        }\n        else if (type=='content') {\n            chrome.tabs.sendMessage(\n                tab.id,\n                {channelName : name,\n                 request,\n                },\n                cb\n            );\n        }\n        else if (type=='background') {\n            if (chrome.runtime.id) {\n                chrome.runtime.sendMessage(\n                    {channelName:name,\n                     request},\n                    cb\n                );\n            }\n            else {\n                chrome.runtime.sendMessage(\n                    chromeExtensionId,\n                    {channelName:name,\n                     request},\n                    cb\n                );\n            }\n        }\n        function cb (response) {\n            if (response) {\n                resolve(response);\n            }\n            else {\n                console.log('No response? Must be an error!');\n                reject(chrome.runtime.lastError);\n            }\n        }\n    });\n}\n\nexport default Channel;\n","import {is_in} from '../../utils/validator.js';\nimport RecDef from '../../common/RecDef.js';\nimport Channel,{BACKGROUND,CONTENT} from './channel.js';\n\nexport const contentGetPageInfo = new Channel({\n    name:'pageInfo',\n    type:'content',\n    requestDef:null,\n    responseDef:{url:'',title:''},\n    chatty:true,\n});\n\nexport const backgroundGetPageInfo = new Channel({\n    name:'pageInfo',\n    type:'background',\n    requestDef:null,\n    responseDef:{url:'',title:''},\n    chatty:true\n})\n\nexport const contentParsePage = new Channel({\n    name:'parseRecipes',\n    type:'content',\n    requestDef:null,\n    responseDef:[{id:''}],\n});\n\nexport const backgroundParsePage = new Channel({\n    name:'parseRecipes',\n    type:'background',\n    requestDef:null,\n    responseDef:[{id:''}],\n});\n\n\nconst tags = RecDef.importProps.map((p)=>p.name)\n\nexport const contentParseSelection = new Channel({\n    name:'parseSelection',\n    type:'content',\n    requestDef:is_in(tags),\n    responseDef:{id:'',tag:is_in(tags)}\n});\n\nexport const backgroundClearAll = new Channel({\n    name:'clearAll',\n    type:'background',\n    requestDef:null,\n    responseDef:true,\n    chatty:true,\n});\n\nexport const contentClearAll = new Channel({\n    name:'clearAll',\n    type:'content',\n    requestDef:null,\n    responseDef:true,\n    chatty:true,\n});\n\nexport const contentClearOne = new Channel({\n    name:'clearOne',\n    type:'content',\n    requestDef:'id',\n    responseDef:true,\n});\n\nexport const backgroundClearOne = new Channel({\n    name:'clearOne',\n    type:'background',\n    requestDef:'id',\n    responseDef:true,\n});\n\n","import Channel from './channel.js';\n\nexport const backgroundRemoveTag = new Channel({\n    name:'removeTag',\n    type:'background',\n    requestDef:'id',\n    responseDef:true,\n})\n\nexport const backgroundAddTag = new Channel({\n    name:'addTag',\n    type:'background',\n    requestDef:{id:'id'},\n    responseDef:{},\n})\nexport const backgroundAddTags = new Channel({\n    name:'addTags',\n    type:'background',\n    requestDef:[{id:'id'}],\n    responseDef:{},\n})\nexport const backgroundUpdateTag = new Channel({\n    name:'updateTag',\n    type:'background',\n    requestDef:{id:'id'},\n    responseDef:{},\n})\nexport const backgroundAddChild = new Channel({\n    name:'addChild',\n    type:'background',\n    requestDef:{parent:'id',child:'id'},\n    responseDef:{},\n})\n","import {pollers,onConnectToPoll} from '../messaging/polling.js';\nimport {backgroundParsePage,\n        contentParsePage,\n        backgroundGetPageInfo,\n        contentGetPageInfo,\n        backgroundClearOne,\n        contentClearOne,\n        backgroundClearAll,\n        contentClearAll,\n       } from '../messaging/parsing.js';\nimport {\n    backgroundRemoveTag,\n    backgroundAddTag,\n    backgroundAddTags,\n    backgroundUpdateTag,\n    backgroundAddChild\n} from '../messaging/tags.js';\n\n// runs in background tab\nexport const parsed = {\n}\nconst waitingChildren = {\n}\n\nfunction respondToPoll (tabId,data) {\n    console.log('poll',tabId,data,pollers);\n    if (pollers[tabId]) {\n        for (let poller of pollers[tabId]) {\n            console.log('Send poller parsed',parsed[tabId])\n            poller({parsed:parsed[tabId],\n                    ...data})\n        }\n    }\n}\n\nonConnectToPoll((port)=>{\n    console.log('backgroundParser connecting to poll',port);\n    port.postMessage({parsed:parsed[port.sender.tab.id]})\n    console.log('sent update',parsed,parsed[port.sender.tab.id]);\n})\n\n\nfunction addWaitingChildren (tabId, tag) {\n    if (waitingChildren[tabId] && waitingChildren[tabId][tag.id]) {\n        console.log('Adding waiting children!');\n        tag.children = [...tag.children,...waitingChildren[tabId][tag.id]]\n    }    \n}\n\nexport function addTags (tabId, tags) {\n    console.log('Adding tag (request from content)',tags);\n    if (!parsed[tabId]) {\n        parsed[tabId] = {\n        }\n    }\n    for (let tag of tags) {\n        addWaitingChildren(tabId,tag);\n        parsed[tabId][tag.id]=tag;       \n    }\n    console.log(`Done adding ${tags.length} tags to parsed: `,parsed[tabId]);\n    respondToPoll(tabId,\n                  {lastRequest : {\n                      action : 'addTags',\n                      tags\n                  }});\n}\n\nexport function addTag (tabId, tag) {\n    if (!parsed[tabId]) {\n        parsed[tabId] = {}\n    }\n    addWaitingChildren(tabId,tag);\n    parsed[tabId][tag.id]=tag;\n    respondToPoll(\n        tabId,\n        {\n            lastRequest : {\n                action : 'addTag',\n                tag\n            }\n        }\n    );\n}\n\nfunction listenForContent () {\n    backgroundRemoveTag.receive(\n        (id,sender)=>{\n            delete parsed[sender.tab.id][id]\n            respondToPoll(sender.tab.id);\n            return true\n        }\n    );\n    backgroundAddTag.receive(\n        (tag,sender)=>{\n            addTag(sender.tab.id,tag);\n            return parsed[sender.tab.id]\n        }\n    );\n    backgroundAddTags.receive(\n        (tags,sender)=>{\n            addTags(sender.tab.id,tags);\n            return parsed[sender.tab.id];\n        }\n    );\n    backgroundUpdateTag.receive(\n        (tag,sender)=>{\n            let oldData = parsed[sender.tab.id][tag.id]\n            parsed[sender.tab.id][tag.id] = {\n                ...oldData,\n                ...tag,\n            }\n            respondToPoll(sender.tab.id);\n            return parsed[sender.tab.id]\n        }\n    );\n    backgroundAddChild.receive(\n        (request,sender)=>{\n            const {parent,child} = request\n            let parentTag = parsed[sender.tab.id] && parsed[sender.tab.id][parent];\n            if (!parentTag) {\n                if (!waitingChildren[sender.tab.id]) {\n                    waitingChildren[sender.tab.id] = {}\n                }\n                if (!waitingChildren[sender.tab.id][parent]) {\n                    waitingChildren[sender.tab.id][parent] = []\n                }\n                waitingChildren[sender.tab.id][parent].push(child)\n                // Wait...\n            }\n            else {\n                if (!parentTag.children) {\n                    parentTag.children = [];\n                }\n                respondToPoll(sender.tab.id);\n                parentTag.children.push(child)\n            }\n            return parsed[sender.tab.id]||{}\n        }\n    );\n}\n\nexport function listen () {\n    listenForSidebar();\n    listenForContent();\n}\n\nfunction listenForSidebar () {\n    \n    backgroundGetPageInfo.receive(\n        async (msg,sender)=>{\n            console.log('background page info?');\n            let pageInfo = await contentGetPageInfo.send(null,sender.tab)\n            console.log('Got pageInfo',pageInfo);\n            pageInfo.id = 'pageInfo';\n            addTag(sender.tab.id,pageInfo);\n            respondToPoll(sender.tab.id)\n            return pageInfo\n        },\n        true // external\n    );\n    \n    backgroundParsePage.receive(\n        async (msg, sender)=>{\n            console.log('parse page...',sender.tab)\n            let response = await contentParsePage.send(null, sender.tab);\n            addTags(sender.tab.id,response);\n            respondToPoll(sender.tab.id)\n            return response\n        },\n        true // external\n    );\n\n    backgroundClearAll.receive(\n        async (msg, sender) => {\n            console.log('Got clear all');\n            parsed[sender.tab.id] = {}\n            await contentClearAll.send(null, sender.tab);\n            respondToPoll(sender.tab.id)\n            return parsed[sender.tab.id];\n        },\n        true\n    );\n\n    backgroundClearOne.receive(\n        async (id, sender) => {\n            delete parsed[sender.tab.id][id];\n            contentClearOne.send(id,sender.tab);\n            respondToPoll(sender.tab.id)\n            return parsed[sender.tab.id]\n        },\n        true\n    )\n}\n","import {parsed} from './parser/backgroundParser.js';\n\nexport function launchTab (tab) {\n    console.log('browser action triggered: launch tab');\n    chrome.tabs.executeScript(\n        tab.id,\n        {file:'embed.js'}, // inject sidebar code, which listens for a message w/ id\n        // function () { // send message with id\n        //     chrome.tabs.sendMessage(tab.id,\n        //                             {tabId:tab.id});\n        //     if (parsed[tab.id]) {\n        //         // clear out parsed rec\n        //         parsed[tab.id] = {}\n        //     }\n        //     chrome.tabs.sendMessage(tab.id,\n        //                             {action:'parsePage'});\n    );\n}\n\n","import Metadata from '../common/RecDef.js';\nimport {addTags,addTag} from './parser/backgroundParser.js';\nimport {contentParsePage,contentParseSelection} from './messaging/parsing.js';\n/* Create context menu for marking up data */\nfunction init () {\n\n    chrome.contextMenus.create({\n        title:'Gourmet Parse Recipe',\n        id:'gourmet-top-page',\n        contexts:['page'],\n        onclick: async (info,tabInfo)=>{\n            console.log('Clicked \"Parse\"!')\n            let tags = await contentParsePage.send(undefined,tabInfo);\n            addTags(tabInfo.id,tags)\n        }   \n    });\n        \n    // chrome.contextMenus.create({\n    //     title:'Gourmet',\n    //     id:'gourmet-image-select',\n    //     contexts:['image'\n\n\n    chrome.contextMenus.create({\n        title:\"Gourmet: Mark-up Recipe\",\n        id:\"gourmet-top\",\n        contexts:[\"selection\"]\n    });\n    var allTheProps = Metadata.importProps;\n    for (let prop of allTheProps)\n    {\n        chrome.contextMenus.create(\n            {\n                \"title\":prop.label,\n                id:`gourmet-${prop.name}`,\n                contexts:[\"selection\"],\n                parentId:'gourmet-top',\n                onclick:makeParseCallback(prop.name)\n            }\n        );\n    }\n\n\n    function makeParseCallback (tag) {\n        return async (info,tabInfo)=>{\n            console.log('Gourmet %s: %s',tag, JSON.stringify(info));\n            console.log('tabInfo %s',JSON.stringify(tabInfo));\n            const tagData = await contentParseSelection.send(tag,tabInfo)\n            addTag(tabInfo.id,tagData)\n        }\n    }\n\n}\nexport default {init}\n","import Metadata from '../common/RecDef.js';\nimport {listen} from './parser/backgroundParser.js';\nimport {launchTab} from './SidebarCommunication.js';\nimport {listenForConnections} from './messaging/polling.js';\nimport ContextMenus from './ContextMenus.js';\nconsole.log('Extension last built at BUILD_TIME')\nlisten();\nconsole.log('Background loaded...');\nchrome.browserAction.onClicked.addListener(launchTab);\nconsole.log('We are listening...');\nContextMenus.init();\nconsole.log('We made context menus...')\nlistenForConnections();\n"],"names":["key","RecDef"],"mappings":"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"}